<div fxLayout="column" fxLayoutGap="4px" style="height: 92vh; overflow: hidden;">
  <div style="display: flex; align-items: center; gap: 20px;">
    <mat-form-field appearance="fill" style="margin-right: 20px;">
      <mat-label>Source</mat-label>
      <mat-select [(ngModel)]="selected_source" required>
        <mat-option *ngFor="let column of source_columns" [value]="column">
          {{ column }}
        </mat-option>
      </mat-select>
    </mat-form-field>
    <app-generic-search (triggerParentMethod)="onChildEvent()" [sp]="'sp_SearchJobApplications'"
      [tableName]="'jobapplication'"
      [columns]="['mobile', 'jobapplication_id', 'first_name', 'email']"></app-generic-search>
    <mat-form-field appearance="fill" style="margin-right: 20px; width: 25%!important;">
      <mat-label>Task</mat-label>
      <mat-select [(ngModel)]="selectedTask" required (selectionChange)="onTaskChange($event)">
        <mat-option *ngFor="let task of tasks" [value]="task.code">
          {{ task.value }}
        </mat-option>
      </mat-select>
    </mat-form-field>

    <!-- <button mat-raised-button color="primary" (click)="onClickGo()">Go</button> -->

  </div>

    <div style="overflow-y: auto;">
      <app-dynamic-grid [table_name]="table_name" [api_end_point]="api_end_point" [sp]="sp"
      [display_on_load]="display_on_load" [clearOtherRowsOnSelect]="true">
    </app-dynamic-grid>
  </div>

  <div fxLayout="row" fxLayoutAlign="center center" fxLayoutGap="20px" class="same-height-row" style="flex-shrink: 0;">
    <button mat-raised-button (click)="onClickSendText()" style="margin-right:100px; background-color: red; color: white;">
      Text Candidates
    </button>

    <mat-form-field appearance="fill">
      <mat-label>Select Message Type</mat-label>
      <mat-select [(ngModel)]="selectedMessageType">
        <mat-option [value]="'thanks_for_scheduling'">Thanks for Scheduling</mat-option>
        <mat-option [value]="'wysiwyg'">Blank Message</mat-option>
        <mat-option [value]="'job_information'">Send Job Information</mat-option>
        <mat-option [value]="'check_later_time'">Check Availability</mat-option>
        <mat-option [value]="'check_still_interested'">Answer any Questions</mat-option>
        <mat-option [value]="'about_us'">About us</mat-option>
        <mat-option [value]="'text_before_calling'">Heads Up Before Calling</mat-option>
        <mat-option [value]="'left_a_voice_mail'">Left a Voice Mail</mat-option>
        <mat-option [value]="'thanks_for_letting_me_know'">Thanks for Letting Me Know</mat-option>
        <mat-option [value]="'request_manual_calendy'">Request Calendly</mat-option>
        <mat-option [value]="'position_on_hold'">Position on Hold</mat-option>

      </mat-select>
    </mat-form-field>
    <button mat-raised-button color="primary" (click)="onCreateMessage()">Create Text Message</button>
    <button mat-raised-button color="primary" [class.spinner]="refreshCursor"
    [disabled]="refreshCursor" (click)="onClickRefreshJobApplications()">Refresh Grid</button>

    <button mat-raised-button color="primary" [class.spinner]="conversationCursor"
    [disabled]="conversationCursor" (click)="showConversation()">Conversation History</button>
    <button mat-raised-button [class.spinner]="matchingCursor"
    [disabled]="matchingCursor" color="primary" (click)="showJobsByDistance()">Matching Jobs - Candidate</button>
    <button mat-raised-button [class.spinner]="matchingRecruiterCursor"
    [disabled]="matchingRecruiterCursor" color="primary" (click)="showMatchedJobsDetailed()">Matchng Jobs - Recruiter</button>

  </div>
</div>